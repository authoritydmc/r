{% extends "base.html" %}
{% block title %}Error - URL Shortener/Redirector{% endblock %}
{% block content %}
<div class="relative w-full flex items-center justify-center min-h-[60vh]">
  <div class="relative z-20 bg-white/80 dark:bg-gray-900/80 rounded-2xl shadow-2xl p-10 max-w-lg w-full flex flex-col items-center border border-red-100 dark:border-red-700 backdrop-blur-md">
    <div class="flex flex-col items-center gap-2 mb-4">
      <div class="bg-red-100 dark:bg-red-900 border border-red-300 dark:border-red-700 rounded-full px-4 py-2 flex items-center gap-2 text-red-800 dark:text-red-200 text-lg font-semibold shadow">
        <i class="fa-solid fa-triangle-exclamation text-2xl"></i>
        Oops, Something Went Wrong!
      </div>
      <div class="mt-4 text-gray-700 dark:text-gray-300 text-lg text-center">
        {{ message | default('An unexpected error occurred. Please try again or contact support if the issue persists.', true) }}
      </div>
      {% if details %}
      <div class="text-sm text-gray-500 dark:text-gray-400 mt-2 p-2 bg-gray-100 dark:bg-gray-800 rounded-md w-full text-left break-all">
        <strong class="font-medium">Details:</strong> {{ details }}
      </div>
      {% endif %}
    </div>
    <div class="flex flex-col sm:flex-row gap-3 mt-6 w-full justify-center">
      {% if return_url %}
      <a href="{{ return_url }}" class="flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 font-semibold shadow transition flex items-center justify-center gap-2">
        <i class="fa-solid fa-arrow-left"></i> Go Back
      </a>
      {% endif %}
      <a href="/" class="flex-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 px-4 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 font-semibold shadow transition flex items-center justify-center gap-2">
        <i class="fa-solid fa-house"></i> Dashboard
      </a>
      {% if try_again_url %}
      <a href="{{ try_again_url }}" class="flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 font-semibold shadow transition flex items-center justify-center gap-2">
        <i class="fa-solid fa-arrows-rotate"></i> Try Again
      </a>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<!-- No confetti or audio for error page -->
{% endblock %}